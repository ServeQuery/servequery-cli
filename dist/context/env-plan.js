/* eslint-disable global-require */
module.exports = plan => plan
    .addPackage('dotenv', planDotenv => planDotenv
    .addModule('dotenv', () => require('dotenv'), { private: true })
    .with('dotenv', dotenv => dotenv.config()))
    .addValue('constants', {
    CURRENT_WORKING_DIRECTORY: process.cwd(),
})
    .addPackage('variables', planVariables => planVariables.addUsingFunction('env', ({ assertPresent, os }) => {
    assertPresent({ os });
    const DEFAULT_SERVEQUERY_URL = 'https://api.servequery.com';
    const SERVEQUERY_SERVER_URL = process.env.SERVEQUERY_URL || process.env.SERVEQUERY_SERVER_URL || DEFAULT_SERVEQUERY_URL;
    const SERVEQUERY_URL_IS_DEFAULT = SERVEQUERY_SERVER_URL === DEFAULT_SERVEQUERY_URL;
    return {
        DATABASE_SCHEMA: process.env.DATABASE_SCHEMA,
        DATABASE_URL: process.env.DATABASE_URL,
        SERVEQUERY_ENV_SECRET: process.env.SERVEQUERY_ENV_SECRET,
        SERVEQUERY_SERVER_URL,
        SERVEQUERY_URL_IS_DEFAULT,
        SILENT: process.env.SILENT,
        TOKEN_PATH: process.env.TOKEN_PATH || os.homedir(),
    };
}))
    .addPackage('others', planOthers => planOthers.addValue('process', process).addModule('pkg', () => require('../../package.json')))
    .addValue('isLinuxOs', ({ assertPresent, os }) => {
    assertPresent({ os });
    return os.platform() === 'linux';
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52LXBsYW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29udGV4dC9lbnYtcGxhbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQ0FBbUM7QUFDbkMsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUN0QixJQUFJO0tBQ0QsVUFBVSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUNqQyxVQUFVO0tBQ1AsU0FBUyxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7S0FDL0QsSUFBSSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUM3QztLQUNBLFFBQVEsQ0FBQyxXQUFXLEVBQUU7SUFDckIseUJBQXlCLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFBRTtDQUN6QyxDQUFDO0tBQ0QsVUFBVSxDQUFDLFdBQVcsRUFBRSxhQUFhLENBQUMsRUFBRSxDQUN2QyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUM5RCxhQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCLE1BQU0sa0JBQWtCLEdBQUcsNkJBQTZCLENBQUM7SUFDekQsTUFBTSxpQkFBaUIsR0FDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsSUFBSSxrQkFBa0IsQ0FBQztJQUNoRixNQUFNLHFCQUFxQixHQUFHLGlCQUFpQixLQUFLLGtCQUFrQixDQUFDO0lBQ3ZFLE9BQU87UUFDTCxlQUFlLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlO1FBQzVDLFlBQVksRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVk7UUFDdEMsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUI7UUFDaEQsaUJBQWlCO1FBQ2pCLHFCQUFxQjtRQUNyQixNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNO1FBQzFCLFVBQVUsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFO0tBQ25ELENBQUM7QUFDSixDQUFDLENBQUMsQ0FDSDtLQUNBLFVBQVUsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLEVBQUUsQ0FDakMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUM5RjtLQUNBLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQy9DLGFBQWEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdEIsT0FBTyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssT0FBTyxDQUFDO0FBQ25DLENBQUMsQ0FBQyxDQUFDIn0=